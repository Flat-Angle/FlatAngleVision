# FlatAngle API
​	本API主要提供三个计算机视觉相关的功能，旨在为需要相关功能的用户提供便利，节省学习和开发成本

​	帮助用户在自己的网站或应用中轻松实现图像的主体前景分割、动漫人物图像识别、图像分辨率增强三个功能



Github:https://github.com/Flat-Angle/FlatAngleVision                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

## 1.  图像主体前景分割

图像主体前景分割有两个版本可以使用

若使用第1版本，基于改进后的预训练好的U-Net模型，模型的处理速度快（平均处理时长大约为0.3s），但对于复杂背景的图像分割效果不理想，对于单一主体且与背景对比鲜明的图像分割效果可以较好

若使用第2版本，基于预训练好的U²-Net模型，模型分割效果十分理想，但处理速度较慢（平均处理时长大约为2.5s）



### 1.1 在线图片主体前景分割

   **接口地址:**

   `http://106.13.208.97:5000/segmentation/online`

   **请求方式：**

​	Method = POST

   **请求体内容：**

​	json格式

​	`{ online_img_url: 对应图片的url }`

   **请求示例：**

  ` http://106.13.208.97:5000/segmentation/online?version=1`

 ` http://106.13.208.97:5000/segmentation/online?version=2`

   **请求参数说明：**


| 名称 | 必填 | 类型 |  说明|
| :-----:| :----: | :----: |  :----:|
| version | 是 | int | 选择预测模型的版本 |

   **JSON返回示例：**

version = 1

```
{
    "cost_time": 0.14787578582763672,
    "result": "/static/5b4e7d72-eae3-11eb-877f-fa28000aa22f.png"
}
```

version = 2

```
{
    "cost_time": 3.251741647720337,
    "object_scale": "38.42%",
    "result": "/static/3cfb3a40-eae3-11eb-877f-fa28000aa22f.png"
}
```

  **返回参数说明**


|     名称     |  类型  |             说明             |
| :----------: | :----: | :--------------------------: |
|  cost_time   | float  |         处理消耗时间         |
|    result    | string |         结果图片路径         |
| object_scale | string | 主体覆盖率（只有V2版本返回） |


​	

###1.2 本地图片主体前景分割

 **接口地址:**

   `http://106.13.208.97:5000/segmentation/file`

   **请求方式：**

​	Method = POST

   **请求体内容：**

​	form-data
|   参数名   | 必填 | 类型 |       说明       |
| :--------: | :--: | :--: | :--------------: |
| image_file |  是  | file | 要上传的图片文件 |
   **请求示例：**

  ` http://106.13.208.97:5000/segmentation/file?version=1`

  ` http://106.13.208.97:5000/segmentation/file?version=2`

   **请求参数说明：**


|  名称   | 必填 | 类型 |        说明        |
| :-----: | :--: | :--: | :----------------: |
| version |  是  | int  | 选择预测模型的版本 |



**返回示例和返回参数说明==与在线图片接口相同==，在此不赘述**



## 2.  动漫人物图像识别

图像识别是人工智能的一个重要领域。首先我们应该清楚图像识别是基于不同场景或物体，对于某一特定类别进行识别判断，目前百度AI平台提供动物识别、植物识别、货币识别等一系列的图像识别接口。该接口使用自搭建预训练好的模型，提供80位常见动漫人物的识别，处理速度大约在1.5s左右，正确率大约在50%-90%

**动漫人物名单：**

```
一方通行 一色彩羽 七海千秋 三笠 上条当麻 中川夏纪 中野梓 五河琴里 亚丝娜 凉宫春日 利威尔 加藤惠 

千反田爱瑠 友利奈绪 吉尔伽美什 和泉雾纱 四宫辉夜 坂田银时 夏目贵志 夜刀神十香 夜斗 太宰治 宇智波佐助 

小埋 小鸟游六花 工作细胞血小板 布洛尼亚 平泽唯 康娜 御坂美琴 忍野忍 折原临也 折木奉太郎 杀老师 栗山未来 

桐人 梅林 梓川咲太 椎名真由理 椎名真白 楪祈 樱岛麻衣 比企谷八幡 比企谷小町 江户川乱步 泉镜花 游戏人生 空 

牧之原翔子 牧濑红莉栖 狂三 玛修 珂朵莉 由比滨结衣 白 白井黑子 磷叶石 秋山澪 立华奏 缠流子 艾米莉亚 芥川龙之介 

英梨梨 蕾姆 薇尔莉特 藤原千花 远坂凛 逢坂大河 长门有希 间桐樱 阿尔托莉雅 阿良良木历 雨宫莲 雪之下雪乃 雾切响子

 霞之丘诗雨 香风智乃 高木 鲁路修 鸣人 黄前久美子
```



### 2.1  在线动漫人物图像识别

   **接口地址:**

   `http://106.13.208.97:5000/recognization/online`

   **请求方式：**

​	Method = POST

   **请求体内容：**

​	json格式

​	`{ online_img_url: 对应图片的url }`

   **请求示例：**

  ` http://106.13.208.97:5000//recognization/online`

   **JSON返回示例：**

```
{
    "accuracy": "86%",
    "cost_time": 1.3683445453643799,
    "label": "工作细胞 血小板"
}
```

  **返回参数说明**


|   名称    |  类型  |     说明     |
| :-------: | :----: | :----------: |
| cost_time | float  | 处理消耗时间 |
| accuracy  | string |  预测准确率  |
|   label   | string | 动漫人物名称 |



### 2.2  本地动漫人物图像识别

 **接口地址:**

   `http://106.13.208.97:5000/recognization/file`

   **请求方式：**

​	Method = POST

   **请求体内容：**

​	form-data

|   参数名   | 必填 | 类型 |       说明       |
| :--------: | :--: | :--: | :--------------: |
| image_file |  是  | file | 要上传的图片文件 |

   **请求示例：**

  ` http://106.13.208.97:5000/recognization/file`



**返回示例和返回参数说明==与在线图片接口相同==，在此不赘述**



## 3.图片分辨率增强

该接口可以提供实现超分辨技术。超分辨率技术（Super-Resolution）是指从观测到的低分辨率图像重建出相应的高分辨率图像，该接口使用预训练的SRGAN模型，平均处理速度大约在9s左右

**注意：请求处理的图片应为低分辨率的图片（分辨率小于420*420）**

###3.1  在线图片分辨率增强

​    **接口地址:**

   `http://106.13.208.97:5050/enhancement/online`

   **请求方式：**

​	Method = POST

   **请求体内容：**

​	json格式

​	`{ online_img_url: 对应图片的url }`

   **请求示例：**

  ` http://106.13.208.97:5050/enhancement/online`

   **JSON返回示例：**

```
{
    "cost_time": 0.14787578582763672,
    "result": "/static/5b4e7d72-eae3-11eb-877f-fa28000aa22f.png"
}
```

  **返回参数说明**


|     名称     |  类型  |             说明             |
| :----------: | :----: | :--------------------------: |
|  cost_time   | float  |         处理消耗时间         |
|    result    | string |         结果图片路径         |


​	

### 3.2 本地图片分辨率增强

​    **接口地址:**

   `http://106.13.208.97:5050/enhancement/file`

   **请求方式：**

​	Method = POST

​     **请求体内容：**

​	form-data

|   参数名   | 必填 | 类型 |       说明       |
| :--------: | :--: | :--: | :--------------: |
| image_file |  是  | file | 要上传的图片文件 |

   **请求示例：**

  ` http://106.13.208.97:5050/enhancement/file`

   **JSON返回示例：**

```
{
    "cost_time": 0.14787578582763672,
    "result": "/static/5b4e7d72-eae3-11eb-877f-fa28000aa22f.png"
}
```

  **返回参数说明**


|   名称    |  类型  |     说明     |
| :-------: | :----: | :----------: |
| cost_time | float  | 处理消耗时间 |
|  result   | string | 结果图片路径 |


​	
